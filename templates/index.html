<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>–ú–µ–º–Ω–∏–π –ü–µ—Ä–µ–º–∏–∫–∞—á –¢–µ–º</title>
    <link rel="stylesheet" href="static/meme_theme/style.css">
</head>
<body>
    <div class="content">
        <h1>–ú–µ–º–Ω–∏–π –¢—Ä–µ–∫–µ—Ä –ó–∞–≤–¥–∞–Ω—å</h1>
        <p>–ù–∞—Ç–∏—Å–∫–∞–π –∫–Ω–æ–ø–∫—É –Ω–∏–∂—á–µ, —â–æ–± –ø–µ—Ä–µ–º–∏–∫–∞—Ç–∏ —Ç–µ–º–∏!</p>
        <div class="links">
            <a href="editor.html">üé® –†–µ–¥–∞–∫—Ç–æ—Ä –¢–µ–º</a> |
            <a href="workshop.html">üõç –í–æ—Ä–∫—à–æ–ø –¢–µ–º</a>
        </div>
    </div>
    <button class="theme-toggle" onclick="toggleTheme()">üåì</button>

    <script>
        const THEMES = ['theme-light', 'theme-dark', 'theme-meme'];
        let currentTheme = localStorage.getItem('theme') || 'theme-light';

        function applyTheme(theme) {
            THEMES.forEach(t => document.body.classList.remove(t));
            document.body.classList.add(theme);
            localStorage.setItem('theme', theme);

            // –ú–µ–º–Ω–∞ —Ç–µ–º–∞: –º—É–∑–∏–∫–∞ —Ç–∞ –≤–∏–ø–∞–¥–∫–æ–≤–∏–π —Ñ–æ–Ω
            if (theme === 'theme-meme') {
                // –î–æ–¥–∞—Ç–∏ —Ñ–æ–Ω–æ–≤–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
                const images = ['meme_bg.jpg', 'user_photo.jpg', 'download.jpg'];
                const randomImage = images[Math.floor(Math.random() * images.length)];
                document.body.style.backgroundImage = `url('static/meme_theme/${randomImage}')`;
                document.body.style.backgroundSize = 'cover';
                document.body.style.backgroundRepeat = 'no-repeat';

                // –ú—É–∑–∏–∫–∞
                if (!document.getElementById('meme-audio')) {
                    const audio = document.createElement('audio');
                    audio.id = 'meme-audio';
                    audio.src = 'static/meme_theme/hamster_dance.mp3';
                    audio.loop = true;
                    audio.autoplay = true;
                    audio.volume = 0.2;
                    document.body.appendChild(audio);
                }
            } else {
                // –û—á–∏—Å—Ç–∏—Ç–∏ –º–µ–º–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏
                document.body.style.backgroundImage = '';
                const oldAudio = document.getElementById('meme-audio');
                if (oldAudio) oldAudio.remove();
            }
        }

        function toggleTheme() {
            const nextTheme = THEMES[(THEMES.indexOf(currentTheme) + 1) % THEMES.length];
            currentTheme = nextTheme;
            applyTheme(nextTheme);
        }

        window.onload = () => {
            applyTheme(currentTheme);
        };
    </script>
</body>
</html>
